<%# This template copies from Blacklight's components/document_component.html.erb 
      # for the wrapping `content_tag @component` structure
      # and adds custom layout within for the document header, status-icons and more-info areas %>

<%= content_tag @component,
  id: @id,
  data: {
    'document-id': @document.id.to_s.parameterize,
    'document-counter': @counter,
    'search-results-target': 'result',
    'action': 'mouseenter->search-results#previewResultOnMap mouseleave->search-results#clearPreview'
  },
  itemscope: true,
  itemtype: @document.itemtype,
  class: classes.flatten.join(' ') do %>
    <%= content_tag :div, class: 'documentHeader index-split d-flex flex-grow-1 flex-column m-2', data: { layer_id: @document.id, geom: @document.geometry.geojson } do %>
      <h3 class="index_title d-flex flex-grow-1">
        <%= helpers.link_to_document(@document, counter: @counter, itemprop: "name") %>
      </h3>

      <div class='status-icons flex-grow-1 ms-0'>
        <%= render Earthworks::HeaderIconsComponent.new(document: @document) %>
      </div>
    <% end %>
  <% end %>
  <div class='more-info-area border-bottom'>
    <div id="doc-<%= @document.id %>-fields-collapse" class='collapse description' data-controller="description">
      <small itemprop="description">
        <%= index_fields_display %>
      </small>
    </div>
  </div>