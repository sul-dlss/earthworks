<%= render Blacklight::System::ModalComponent.new do |component| %>
  <% component.with_title { t('blacklight.tools.citation') } %>
  <div data-controller="clipboard-copy">
    <!-- Copy to clipboard button -->
    <div class="mb-2 d-flex justify-content-end">
      <button id="copyClipboard" class="btn btn-sm btn-outline-primary btn-clipboard" data-action="clipboard-copy#copy">
        <span id="copyCheck" class="d-none" data-clipboard-copy-target="copyButtonIcon">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16">
          <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"/>
        </svg>
        </span>
        <span id="copyClipText" data-clipboard-copy-target="copyButtonText">Copy</span>
      </button>
    </div>

    <!-- Citation content -->
    <% citation = render Geoblacklight::Document::CitationComponent.with_collection(@documents) if @documents %>
    <div class="citation-text" data-clipboard-copy-target="copyContent">
      <%= citation %>
    </div>
  </div>
<% end %>
